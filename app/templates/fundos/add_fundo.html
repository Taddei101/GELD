{% extends 'base.html' %}

{% block title %}Novo Fundo - Geld's Finance{% endblock %}

{% block header %}Importar Fundo por CNPJ{% endblock %}

{% block content %}



<div class="center">
    <form method="POST" action="{{ url_for('fundos.add_fundo_cnpj') }}" id="form-cnpj">
        <div class="label">
            <label for="cnpj_auto">CNPJ do Fundo:</label>
            <input type="text" id="cnpj_auto" name="cnpj" required>
        </div>
        
        <button type="submit" class="smlBtn" title="Buscar e importar fundo">
            <img src="{{ url_for('static', filename='icons/lupa.png') }}" class="sml-btn-icon">
        </button>
        
        <button type="button" class="smlBtn" onclick="window.location.href=`{{ url_for('fundos.listar_fundos') }}`" title="Voltar">
            <img src="{{ url_for('static', filename='icons/back.png') }}" class="sml-btn-icon">
        </button>
    </form>


    
    <form method="POST" action="{{ url_for('fundos.add_fundo') }}">
        <div class="label">
            <label for="nome_fundo">Nome da AplicaÃ§Ã£o</label>
            <input type="text" id="nome_fundo" name="nome_fundo" required>
        </div>

        <div class="label">
            <label for="cnpj">CNPJ:</label>
            <input type="text" id="cnpj" name="cnpj" required>
        </div class="label">

        <div class="label">
            <label for="classe_anbima">Classe Anbima:</label>
            <input type="text" id="classe_anbima" name="classe_anbima" required>
        </div class="label">

        <div class="label">
            <label for="risco">NÃ­vel de Risco:</label>
            <select id="risco" name="risco" required onchange="toggleSubtipo()">
                <option value="">Selecione...</option>
                <option value="baixo">ðŸŸ¢ Baixo</option>
                <option value="moderado">ðŸŸ¡ Moderado</option>
                <option value="alto">ðŸ”´ Alto</option>
            </select>
        </div>

        <div class="label" id="subtipo_container" style="display: none;">
            <label for="subtipo_risco">Subtipo:</label>
            <select id="subtipo_risco" name="subtipo_risco">
                <option value="di">DI</option>
                <option value="rfx">RFx</option>
            </select>
        </div>

        <button title="Cadastrar" class="smlBtn" type="submit">
            <img src="{{ url_for('static', filename='icons/add_cliente.png') }}" class="sml-btn-icon"></button>
        <button title="Voltar" class="smlBtn" onclick="window.location.href=`{{ url_for('fundos.listar_fundos') }}`">
            <img src="{{ url_for('static', filename='icons/back.png') }}" class="sml-btn-icon"></button>
    </form>

    <script>
    function toggleSubtipo() {
        const risco = document.getElementById('risco').value;
        const subtipoContainer = document.getElementById('subtipo_container');
        const subtipoSelect = document.getElementById('subtipo_risco');
        
        if (risco === 'baixo') {
            subtipoContainer.style.display = 'block';
            subtipoSelect.required = true;
        } else {
            subtipoContainer.style.display = 'none';
            subtipoSelect.required = false;
            subtipoSelect.value = '';
        }
    }
    </script>

    <p></p>
    
    
    
</div>


        
    
    

{% endblock %}